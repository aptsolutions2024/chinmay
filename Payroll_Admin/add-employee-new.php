<?php$doc_path=$_SERVER["DOCUMENT_ROOT"];include ($doc_path.'/include_payroll_admin.php');error_reporting(0);$comp_id=$_SESSION['comp_id'];$user_id=$_SESSION['log_id'];$result1=$payrollAdmin->showClient1($comp_id,$user_id);//print_r($result1);$result2 = $payrollAdmin->showDesignation($comp_id);$result3 = $payrollAdmin->showDepartment($comp_id);$result4 = $payrollAdmin->showQualification($comp_id);$result5 = $payrollAdmin->showBank($comp_id);$result6 = $payrollAdmin->showLocation($comp_id);$result7 = $payrollAdmin->showPayscalecode($comp_id);$resultIncome = $payrollAdmin->showIncomehead($comp_id);$resultdest = $payrollAdmin->showDeductionhead($comp_id); //$reslt = $payrollAdmin->showLeavetype($comp_id); $resadv = $payrollAdmin->showAdvancetype($comp_id); $rescalin=$payrollAdmin->showCalType("caltype_income");$rescalde=$payrollAdmin->showCalType("caltype_deduct");?><!DOCTYPE html><head>  <meta charset="utf-8"/>  <!-- Set the viewport width to device width for mobile -->  <meta name="viewport" content="width=device-width"/>  <title>Salary | Add Employee</title><link rel="stylesheet" href="Payroll/css/responsive.css">  <link rel="stylesheet" href="Payroll/css/style.css">    <link rel="stylesheet" href="Payroll/css/jquery-ui.css">   <style>       .buttonclass{           margin-top:10px;       }   </style>  <script>  function generateUsername() {    const firstName = document.getElementById('fname').value.trim(); // Get the first name value    $.ajax({        url: '/generate', // URL to PHP script        type: 'POST',        data: { action: 'generateUsername', fname: firstName }, // Data to send        success: function(response) {            document.getElementById('uname').value = response; // Set the generated username in the input field        }    });}function generatePassword() {    const lastName = document.getElementById('lname').value.trim(); // Get the last name value    const passwordField = document.getElementById('password').value.trim(); // Check if the user has entered a password manually    if (passwordField === "") {  // Only generate if the field is empty        $.ajax({            url: '/generate', // URL to PHP script            type: 'POST',            data: { action: 'generatePassword', lname: lastName }, // Data to send            success: function(response) {                document.getElementById('password').value = response; // Set the generated password in the input field            }        });    }}</script></head> <body><!--Header starts here--><?php include('header.php');?><!--Header end here--><div class="clearFix"></div><!--Menu starts here--><!--Menu ends here--><div class="clearFix"></div><!--Slider part starts here--><div class="twelve mobicenter innerbg">    <div class="row">        <div class="twelve" id="margin1">            <div class="tab">                <button id="t1" class="tablinks active" onclick="openTab(event, 'tab1')">Add Employee</button>                <button id="t2" class="tablinks" onclick="openTab(event, 'tab2')" disabled>Employee Income</button>                <button id="t3" class="tablinks" onclick="openTab(event, 'tab3')" disabled>Employee Deduct</button>                <!--<button id="t4" class="tablinks" onclick="openTab(event, 'tab4')" disabled>Employee Leave</button>-->                <button id="t5" class="tablinks" onclick="openTab(event, 'tab5')" disabled>Employee Advances</button>            </div>            <div id="tab1" class="tabcontent">                <h3>New Employee</h3>                <form id="form1">                    <div class="twelve" id="margin1">                        <div class="twelve padd0 columns successclass hidecontent" id="success">                        </div>                        <div class="clearFix"></div>						<div class="two columns">                            <span class="labelclass">Employee Id :</span>                        </div>                        <div class="four  columns">                                                   </div>						<div class="two columns">                                                  </div>                        <div class="four  columns">                                            </div>						 <div class="clearFix"></div>						                        <div class="two columns">                            <span class="labelclass">First Name : <span class="mandatory">*</span></span>                        </div>                        <div class="four  columns">                            <input type="text" name="fname" id="fname" placeholder="First Name" class="textclass">                            <span class="errorclass hidecontent" id="fnerror"></span>                        </div>                        <div class="two columns">                            <span class="labelclass">Middle Name : <span class="mandatory">*</span></span>                        </div>                        <div class="four  columns">                            <input type="text" name="mname" id="mname" placeholder="Middle Name " class="textclass">                            <span class="errorclass hidecontent" id="mnerror"></span>                        </div>                        <div class="clearFix"></div>                        <div class="two columns">                            <span class="labelclass">Last Name : <span class="mandatory">*</span></span>                        </div>                        <div class="four  columns">                            <input type="text" name="lname" id="lname" placeholder="Last Name" class="textclass">                            <span class="errorclass hidecontent" id="lnerror"></span>                        </div>						<div class="two columns">                            <span class="labelclass">Client : <span class="mandatory">*</span></span>                        </div>                        <div class="four  columns">                            <select id="client" name="client" class="textclass">                                <option value="">--select--</option>                                <?php                                foreach($result1 as $row1){                                                                        ?>                                    <option value="<?php echo $row1['mast_client_id'];?>" ><?php echo $row1['client_name'];?> - <?php echo date('F Y', strtotime($row1['current_month'])); ?></option>                               <?php }                                ?>                            </select>							 <span class="errorclass hidecontent" id="clientrror"></span>							                        </div>                                                                        <div class="clearFix"></div>        <!-- Gender Radio Buttons --><div class="clearFix"></div><div class="two columns">    <span class="labelclass">Gender : <span class="mandatory">*</span></span></div><div class="four columns" style="display: flex; align-items: center;">    <label for="male" style="margin-right: 10px;">        <input type="radio" id="male" name="gender" value="M" class="radio-input">        Male    </label>    <label for="female" style="margin-right: 10px;">        <input type="radio" id="female" name="gender" value="F" class="radio-input">        Female    </label>         <span class="errorclass hidecontent" id="gendererror"></span></div>        <!-- ESI Status (Default Y) -->        <div class="two columns">            <span class="labelclass">ESI Status : <span class="mandatory">*</span></span>        </div>        <div class="four columns">            <input type="text" name="esistatus" id="esistatus" class="textclass" value="Y" readonly>            <span class="errorclass hidecontent" id="esistatuserror"></span>        </div>                <!-- Join Date (input type date) -->        <div class="clearFix"></div>        <div class="two columns">            <span class="labelclass">Join Date : <span class="mandatory">*</span></span>        </div>        <div class="four columns">            <input type="date" name="joindate" id="joindate" class="textclass">            <span class="errorclass hidecontent" id="joindateerror"></span>        </div>                <!-- Added by saksi on 28-10-24 -->	<div class="two columns">                            <span class="labelclass">LWF No :</span>                        </div>                        <div class="four  columns">                            <input type="text"class="textclass" id="lwf_no" name="lwf_no"  placeholder="LWF Number">                                         <span class="errorclass hidecontent" id="lwferror"></span>                        </div>        <div class="clearFix"></div>                                                                                                                               <!--#################USER NAME PASSWORD #############################33-->                         <div class="clearFix"></div>                        <div class="two columns">        <span class="labelclass">User Name: <span class="mandatory">*</span></span>    </div>    <div class="four columns">        <div class="input-group">            <input type="text" name="uname" id="uname" placeholder="User Name" class="textclass half-width" >            <button type="button" class="buttonclass" onclick="generateUsername()" >Generate User Name</button>        </div>        <span class="errorclass hidecontent" id="unerror"></span>        	 <span class="hidecontent" id="successmsg"></span>    </div>    <div class="two columns">        <span class="labelclass">Password : <span class="mandatory">*</span></span>    </div>    <div class="four columns">        <div class="input-group">            <input type="text" name="password" id="password" placeholder="Enter password" class="textclass half-width">            <button type="button" class="buttonclass" onclick="generatePassword()">Generate Password</button>        </div>        <span class="errorclass hidecontent" id="error"></span>    </div>                         						 <div class="clearFix"></div>						<div class="two columns">                            <span class="labelclass">Address :</span>                        </div>                        <div class="four  columns">                            <textarea class="textclass" id="add1" name="add1"  placeholder="Address 1"></textarea>                            <span class="errorclass hidecontent" id="ad1error"></span>                        </div>						<div class="two columns">                            <span class="labelclass">Pin Code :</span>                        </div>                        <div class="four  columns">                            <input type="text"class="textclass" id="pin_code" name="pin_code"  placeholder="Pin Code">                                         <span class="errorclass hidecontent" id="pincerror"></span>                        </div>						 <div class="clearFix"></div>                        <div class="ten padd0 columns">                            &nbsp;&nbsp;                        </div>                       <div class="two columns text-right">    <input type="button" name="submit" id="submit1" value="Save & Next" class="btnclass" onclick="saveemp();"></div>                        <div class="clearFix"></div>                    </div>                </form>            </div>            <div id="tab2" class="tabcontent">                <h3>Income</h3>                <form id="form2">                     <input type="hidden" id="empid" name="empid" value="0">                    <div class="two columns">                        <span class="labelclass">Income : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                        <select id="incomeid" name="incomeid" class="textclass">                            <option value="0">--select-</option>                            <?php                            foreach($resultIncome as $rowin){                                                            ?>                                <option value="<?php echo $rowin['mast_income_heads_id'];?>"><?php echo $rowin['income_heads_name'];?></option>                            <?php }                            ?>                        </select>                        <span class="errorclass hidecontent" id="incoerror"></span>                    </div>                    <input type="hidden" name="emp_income_id" id="emp_income_id" value="<?php echo $rowsincome['emp_income_id']; ?>">                    <div class="two columns">                        <span class="labelclass">Calculation Type : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                             <select  name="caltype" id="caltype" class="textclass">                            <option value="0">--select-</option>                            <?php                            foreach($rescalin as $rowcalin){                                $calculationType='2';                            ?>                                <option <?php if($calculationType==$rowcalin['id']){ echo "selected";} ?> value="<?php echo $rowcalin['id']; ?>"><?php echo $rowcalin['name']; ?></option>                            <?php } ?>                        </select>                        <span class="errorclass hidecontent" id="calterror"></span>                    </div>                    <div class="clearFix"></div>                    <div class="two columns">                        <span class="labelclass"> STD Amt : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                        <input type="text" name="stdamt" id="stdamt" placeholder="STD Amt" class="textclass">                        <span class="errorclass hidecontent" id="stderror"></span>                    </div>                    <div class="two columns">                        <span class="labelclass">Remark :</span>                    </div>                    <div class="four  columns">                        <input type="text" name="inremark" id="inremark" placeholder="Remark" class="textclass" >                        <span class="errorclass hidecontent" id="inrerror"></span>                    </div>                    <div class="clearFix"></div>                    <div class="ten padd0 columns">                        &nbsp;&nbsp;                    </div>                    <div class="two columns text-right">                        <input type="button" name="submit" id="submit2" value="Save & Next" class="btnclass" onclick="saveIncome();">                    </div>                    <div class="clearFix"></div>                </form>                <div id="detailsempIncome">                </div>            </div>            <div id="tab3" class="tabcontent">                <h3>Deduct</h3>                <form id="form3">                    <div class="two columns">                        <span class="labelclass">Deduction : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                        <select id="destid" name="destid" class="textclass">                            <option value="0">--select-</option>                            <?php                            foreach($resultdest as $rowde){                                                            ?>                                <option value="<?php echo $rowde['mast_deduct_heads_id'];?>"><?php echo $rowde['deduct_heads_name'];?></option>                            <?php }                            ?>                        </select>                        <span class="errorclass hidecontent" id="destiderror"></span>                    </div>                    <div class="two columns">                        <span class="labelclass">Calculation Type : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                          <select name="decaltype" id="decaltype" class="textclass">                            <option value="0">--select-</option>                            <?php                            foreach($rescalde as $rowcalde){                                $calculationType2='7';                            ?>                                <option <?php if($calculationType2==$rowcalde['id']){ echo "selected";} ?> value="<?php echo $rowcalde['id']; ?>"><?php echo $rowcalde['name']; ?></option>                            <?php } ?>                        </select>                        <span class="errorclass hidecontent" id="dectyerror"></span>                    </div>                    <div class="clearFix"></div>                    <div class="two columns">                        <span class="labelclass"> STD Amt : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                        <input type="text" name="destdamt" id="destdamt" placeholder="STD Amt" class="textclass" >                        <span class="errorclass hidecontent" id="destderror"></span>                    </div>                    <div class="two columns">                        <span class="labelclass">Remark :</span>                    </div>                    <div class="four  columns">                        <input type="text" name="destdremark" id="destdremark" placeholder="Remark" class="textclass">                        <span class="errorclass hidecontent" id="destdrrerror"></span>                    </div>                    <div class="clearFix"></div>                    <div class="ten padd0 columns">                        &nbsp;&nbsp;                    </div>                    <div class="two columns text-right">                        <input type="button" name="submit" id="submit3" value="Save & Next" class="btnclass" onclick="saveDeduct();">                    </div>                    <div class="clearFix"></div>                </form>                <div id="detailsempDeduct">                </div>            </div>                         <div id="tab5" class="tabcontent">                <h3>Advances</h3>                <form id="form5">                    <div class="two columns">                        <span class="labelclass">Advance Type : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                        <select name="advtype" id="advtype" class="textclass">                            <option>--select---</option>                            <?php foreach($resadv as $rowadv){ ?>                                <option value="<?php echo $rowadv['mast_advance_type_id']; ?>"><?php echo $rowadv['advance_type_name']; ?></option>                            <?php } ?>                        </select>                    </div>                    <div class="two columns">                        <span class="labelclass">Date : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                        <input type="text" name="advdate" id="advdate" placeholder="Advance Date" class="textclass">                    </div>                    <div class="clearFix"></div>                    <div class="two columns">                        <span class="labelclass">Advance Amount : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                        <input type="text" name="advamt" id="advamt" placeholder="Advance Amount" class="textclass">                        <span class="errorclass hidecontent" id="advamterror"></span>                    </div>                    <div class="two columns">                        <span class="labelclass">Advance Installment : <span class="mandatory">*</span></span>                    </div>                    <div class="four  columns">                        <input type="text" name="advins" id="advins" placeholder="Advance Installment" class="textclass">                        <span class="errorclass hidecontent" id="advinserror"></span>                    </div>                    <div class="clearFix"></div>                   <div class="ten padd0 columns">                        &nbsp;&nbsp;                    </div>                    <div class="two columns text-right">                        <input type="button" name="submit" id="submit5" value="Save" class="btnclass" onclick="saveAdnavcen();">                    </div>                    <div class="clearFix"></div>                </form>                <div id="detailsempAdvances">                </div>                <br/>            </div>        </div>    </div><br/></div><div class="clearFix"></div><!--Slider part ends here--><!--footer start --><?php include('footer.php');?>     <script>    $( document ).ready(function() {            $('#tab1').show();             $( "#duedate" ).datepicker({            changeMonth: true,            changeYear: true,            dateFormat:'dd-mm-yy'        });       $("#lfdate").datepicker({            changeMonth: true,            changeYear: true,            dateFormat:'dd-mm-yy'        });         $("#advdate").datepicker({            changeMonth: true,            changeYear: true,            dateFormat:'dd-mm-yy'        });        $("#advdate").datepicker({            changeMonth: true,            changeYear: true,            dateFormat:'dd-mm-yy'        });	});	 function openTab(evt, tabName) {        // Declare all variables        var i, tabcontent, tablinks;        // Get all elements with class="tabcontent" and hide them        tabcontent = document.getElementsByClassName("tabcontent");        for (i = 0; i < tabcontent.length; i++) {            tabcontent[i].style.display = "none";        }        // Get all elements with class="tablinks" and remove the class "active"        tablinks = document.getElementsByClassName("tablinks");        for (i = 0; i < tablinks.length; i++) {            tablinks[i].className = tablinks[i].className.replace(" active", "");        }        // Show the current tab, and add an "active" class to the button that opened the tab        document.getElementById(tabName).style.display = "block";        evt.currentTarget.className += " active";    }	 function clearemp() {        $('#fnerror').html("");        $('#mnerror').html("");        $('#lnerror').html("");        $('#emailerror').html("");        $('#bderror').html("");        $('#jderror').html("");         $('#adhaarerror').html("");        $('#phoneerror').html("");		$('#clientrror').html("");		$('#qualifierror').html("");		$('#departerror').html("");		$('#designerror').html("");		$('#locationerror').html("");		$('#bankeError').html("");				   }   var typingTimer;var doneTypingInterval = 1000; // Time (in ms) after which username is considered "complete"// Function to check if the username is uniquefunction checkUsernameUnique() {    var uname = $("#uname").val().trim();    if (uname === '') {        // If username is empty, show required message and hide success message        $("#unerror").text("Username is required").show();        $("#uname").addClass('bordererror');        $("#successmsg").text("").hide(); // Hide success message        return;    }    // Check if username is unique    $.post('/check-username-unique', { 'uname': uname })        .done(function (response) {            //console.log(response);            if (response.trim().startsWith('Username already exists')) {                // Show error if username is taken                $("#unerror").text("Username already exists. Please choose another.").show();                $("#uname").addClass('bordererror');                $("#successmsg").text("").hide(); // Hide success message                                // Clear the username field after a delay only if duplicate                setTimeout(function() {                  $("#uname").val('').focus(); // Clear input and focus on it                }, doneTypingInterval);            } else {                // Username is unique                                $("#unerror").text("").hide(); // Clear error text                $("#uname").removeClass('bordererror');                $("#successmsg").text("Username is available.").css("color", "green").show(); // Show success message            }        })        .fail(function (jqXHR, textStatus, errorThrown) {            console.error("Error checking username uniqueness:", textStatus, errorThrown);            $("#unerror").text("An error occurred while checking the username.").show();            $("#uname").addClass('bordererror');            $("#successmsg").text("").hide(); // Hide success message        });}// Event listener to detect when the user has finished typing$(document).ready(function () {    $("#uname").on("input", function () {        clearTimeout(typingTimer);        typingTimer = setTimeout(checkUsernameUnique, doneTypingInterval);    });    $("#uname").on("keydown", function () {        clearTimeout(typingTimer); // Clear the timer if the user is still typing    });    // Add input event listeners for other fields    $("#fname, #mname, #lname, #client").on("input", function () {        validateForm(); // Call this if you still want to validate the form's completeness    });});function saveemp() {    clearemp();  // Clear previous errors        $('#success1').hide();  // Hide success message initially        // Gather form inputs    var fname = $("#fname").val().trim();    var mname = $("#mname").val().trim();    var lname = $("#lname").val().trim();    var uname = $("#uname").val().trim();    var password = $("#password").val().trim();    var client = $("#client").val().trim();    var add1 = $("#add1").val().trim();    var pin_code = $("#pin_code").val().trim();    var gender = $("input[name='gender']:checked").val();  // Capture the selected gender    var esistatus = $("#esistatus").val().trim();  // Capture the ESI status    var joindate = $("#joindate").val();  // Capture the Join Date    var lwf_no =$("#lwf_no").val().trim();    var error;  // Error message holder    // Validate required fields    if (fname === '') {        $("#fname").focus();        error = "Please Enter the First Name";        $("#fname").addClass('bordererror').attr("placeholder", error);        $("#success").hide();        return;    }    if (lname === '') {        $("#lname").focus();        error = "Please Enter the Last Name";        $("#lname").addClass('bordererror').attr("placeholder", error);        $("#success").hide();        return;    }    if (mname === '') {        $("#mname").focus();        error = "Please Enter the Middle Name";        $("#mname").addClass('bordererror').attr("placeholder", error);        $("#success").hide();        return;    }    if (client === '') {        $("#client").focus();        error = "Please Enter the Client";        $("#client").addClass('bordererror').attr("placeholder", error);        $("#success").hide();        return;    }    if (uname === '') {        $("#uname").focus();        error = "Please Enter the Username";        $("#uname").addClass('bordererror').attr("placeholder", error);        $("#success").hide();        return;    }    if (!gender) {  // Validate gender selection        error = "Please Select the Gender";        $("#gendererror").text(error).show();        return;    } else {        $("#gendererror").hide();  // Hide error if already validated    }        if (!joindate) {  // Validate join date        error = "Please Enter the Join Date";        $("#joindate").addClass('bordererror').attr("placeholder", error);        $("#success").hide();        return;    }    $.post('/add-employee-new-process', {        'fname': fname,        'mname': mname,        'lname': lname,        'uname': uname,        'password': password,        'client': client,        'add1': add1,        'pin_code': pin_code,        'gender': gender,  // Include gender in the submission        'esistatus': esistatus,  // Include ESI status        'joindate': joindate , // Include join date        'lwf_no':lwf_no            })    .done(function (data) {        $("#empid").val(data.trim());  // Set the employee ID        $("#tab1").hide();        $('#tab2').show();        $('#t2').addClass("active").removeAttr("disabled");        $('#submit1').attr("disabled", "disabled");        $('#t1').removeClass("active");        refreshIncome($("#empid").val());  // Refresh income tab based on new employee ID    })    .fail(function (jqXHR, textStatus, errorThrown) {        console.error("Error saving employee:", textStatus, errorThrown);        $("#success").text("An error occurred while saving the employee.").show();    });}				    function deleteeirow(id) {				   var empid=document.getElementById("empid").value;        if(confirm('Are you You Sure want to delete this Field?')) {            $.post('/delete-emp-income-process', {                'id': id            }, function (data) {                alert('Recourd Delete Successfully');                refreshIncome(empid);            });        }    }    function deletederow(id) {	  var empid=document.getElementById("empid").value;        if(confirm('Are you You Sure want to delete this Field?')) {            $.post('/delete-emp-deduct-process', {                'id': id            }, function (data) {                alert('Recourd Delete Successfully');                refreshDeduct(empid);            });        }    }	        function clearincome() {        $('#calterror').html("");        $('#stderror').html("");        $('#incoerror').html("");        $('#inrerror').html("");    }	function refreshconutIncome(id){        $.post('/display-emp-income-totalcont',{            'id':id        },function(data){            $("#insaltotal").html(data);            $("#insaltotal").show();        });    }   function saveIncome(){             //clearincome();      				var empid=$("#empid").val();       var caltype=$("#caltype").val();       $("#caltype").removeClass('bordererror');       var stdamt=$("#stdamt").val();       $("#stdamt").removeClass('bordererror');       var incomeid=$("#incomeid").val();       $("#incomeid").removeClass('bordererror');       var inremark=$("#inremark").val();       $("#inremark").removeClass('bordererror');				var letters = /^[A-Za-z]+$/;       var amt=stdamt.match(letters);              if(incomeid=='0') {          $("#incomeid").focus();	   error ="Please Select the Income";	   $("#incomeid").val('');	   $("#incomeid").addClass('bordererror');	   $("#incomeid").attr("placeholder", error);           $("#success").hide();       }       else if(caltype=='0') {           $("#caltype").focus();	   error ="Please Select the Calculation Type";	   $("#caltype").val('');	   $("#caltype").addClass('bordererror');	   $("#caltype").attr("placeholder", error);           $("#success").hide();       }       else if(stdamt=='') {           $("#stdamt").focus();	   error ="Please Enter the STD Amount";	   $("#stdamt").val('');	   $("#stdamt").addClass('bordererror');	   $("#stdamt").attr("placeholder", error);           $("#success").hide();       }       else if(amt!=null)       {          $("#stdamt").focus();	   error ="Please Enter the valid characters STD Amount";	   $("#stdamt").val('');	   $("#stdamt").addClass('bordererror');	   $("#stdamt").attr("placeholder", error);           $("#success").hide();       }       else {           $.post('/employee-income-process',{               'empid':empid,               'caltype':caltype,               'incomeid':incomeid,               'inremark':inremark,               'stdamt':stdamt           },function(data){             // alert(data);              $('#form2').trigger('reset');               $("#success2").html("Record Insert Successfully!");               $("#success2").show();			   $("#tab2").hide();                $('#tab3').show();                $('#t3').addClass(" active");                $('#t3').removeAttr("disabled");                $('#t2').removeClass(" active");                $('#submit2').attr("disabled", "disabled");               refreshIncome(empid);			    refreshDeduct(empid);			    refreshconutIncome(empid);           });       }   }   function refreshIncome(id){        var view=1;        $.post('/display-emp-income-details',{            'id':id,            'view':view        },function(data){            $("#detailsempIncome").html(data);            $("#detailsempIncome").show();        });    }            function cleardeduct() {        $('#destiderror').html("");        $('#dectyerror').html("");        $('#destderror').html("");        $('#destdrrerror').html("");    } function saveDeduct(){        cleardeduct();        var empid=$("#empid").val();		var decaltype=$("#decaltype").val();		var destdamt=$("#destdamt").val();		var destid=$("#destid").val();		var destdremark=$("#destdremark").val();       $("#decaltype").removeClass('bordererror');       $("#destdamt").removeClass('bordererror');       $("#destid").removeClass('bordererror');       $("#destdremark").removeClass('bordererror');	   var letters = /^[A-Za-z]+$/;        var amt= destdamt.match(letters);		        if(destid=='0') {            $("#destid").focus();	   error ="Please Enter Select Deduction";	   $("#destid").val('');	   $("#destid").addClass('bordererror');	   $("#destid").attr("placeholder", error);            $("#success").hide();        }        else if(decaltype=='0') {            $("#decaltype").focus();	   error ="Please Enter the Calculation Type";	   $("#decaltype").val('');	   $("#decaltype").addClass('bordererror');	   $("#decaltype").attr("placeholder", error);            $("#success").hide();        }        else if(destdamt=='') {           $("#destdamt").focus();	   error ="Please Enter the STD Amt";	   $("#destdamt").val('');	   $("#destdamt").addClass('bordererror');	   $("#destdamt").attr("placeholder", error);            $("#success").hide();        }        else if(amt!=null)        {            $("#destdamt").focus();	   error ="Please Enter the valid characters STD Amount";	   $("#destdamt").val('');	   $("#destdamt").addClass('bordererror');	   $("#destdamt").attr("placeholder", error);            $("#success").hide();        }        else {            $.post('/employee-deduct-process',{                'empid':empid,                'decaltype':decaltype,                'destdremark':destdremark,                'destid':destid,                'destdamt':destdamt            },function(data){                console.log(data);                $("#success3").html("Record Insert Successfully!");                $("#success3").show();				   $('#tab3').hide();				   $('#tab4').hide();                $('#tab5').show();                $('#t5').addClass(" active");                $('#t3').removeClass("active");                $('#t5').removeAttr("disabled");                $('#t4').removeClass(" disabled");                $('#submit4').attr("disabled", "disabled");                refreshLeave(document.getElementById("empid").value);                refreshAdvances(document.getElementById("empid").value);            });        }    }        function refreshDeduct(id){        var view=1;        $.post('/display-emp-deduct-details',{            'id':id,            'view':view        },function(data){            $("#detailsempDeduct").html(data);            $("#detailsempDeduct").show();        });    }    function clearleave() {               $('#oberror').html("");    } 	    function refreshLeave(id){        var view=1;        $.post('/display-emp-leave-details',{            'id':id,            'view':view        },function(data){            $("#detailsempLeave").html(data);            $("#detailsempLeave").show();        });    }    function clearadnavcen() {        $('#advamterror').html("");        $('#advinserror').html("");    }    function refreshAdvances(id){        var view=1;        $.post('/display-emp-advances-details',{            'id':id,            'view':view        },function(data){            $("#detailsempAdvances").html(data);            $("#detailsempAdvances").show();        });    }    function deleteadrow(id) {        if(confirm('Are you You Sure want to delete this Field?')) {            $.post('/delete-emp-advances-process', {                'id': id            },function(data){                refreshAdvances(document.getElementById("empid").value);                alert('Recourd Delete Successfully');            });        }    }    function saveAdnavcen(){        clearadnavcen();        var advamt=$("#advamt").val();		var empid1=$("#empid").val();		var advins=$("#advins").val();		var advtype=$("#advtype").val();		var advdate=$("#advdate").val();       $("#advamt").removeClass('bordererror');       $("#advins").removeClass('bordererror');       $("#advtype").removeClass('bordererror');       $("#advdate").removeClass('bordererror');        if(advamt=='') {            $("#advamt").focus();	   error ="Please Enter the Advance Amount";	   $("#advamt").val('');	   $("#advamt").addClass('bordererror');	   $("#advamt").attr("placeholder", error);            $("#success").hide();        }        else if(advins=='') {            $("#advins").focus();	   error ="Please Enter the Advance Installment";	   $("#advins").val('');	   $("#advins").addClass('bordererror');	   $("#advins").attr("placeholder", error);            $("#success").hide();        }        else {            $.post('/employee-advances-process',{                'advamt':advamt,                'empid':empid1,                'advdate':advdate,                'advtype':advtype,                'advins':advins            },function(data){                refreshAdvances(document.getElementById("empid").value);                alert("finished");                $('#submit5').attr("disabled", "disabled");            });        }	}	</script><!--footer end --><div id="test"></div></body></html>